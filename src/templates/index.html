<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>敏感词检测服务 - VeriText</title>
    <link href="https://cdn.bootcdn.net/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.bootcdn.net/ajax/libs/bootstrap-icons/1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <link href="/static/css/style.css" rel="stylesheet">
</head>
<body>
    <div class="container-fluid">
        <!-- 导航栏 -->
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary mb-4">
            <div class="container">
                <a class="navbar-brand" href="#" id="navbar-brand">
                    <i class="bi bi-shield-check"></i>
                    VeriText 敏感词检测
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="/docs" target="_blank">
                                <i class="bi bi-book"></i> API文档
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" id="health-status">
                                <i class="bi bi-heart-pulse"></i> 
                                <span class="health-indicator">检查中...</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="container">
            <div class="row">
                <!-- 主要内容区域 -->
                <div class="col-lg-8">
                    <div class="card shadow-sm">
                        <div class="card-header">
                            <h4 class="mb-0">
                                <i class="bi bi-pencil-square"></i>
                                文本检测
                            </h4>
                        </div>
                        <div class="card-body">
                            <!-- 检测表单 -->
                            <form id="detection-form">
                                <div class="mb-3">
                                    <label for="text-input" class="form-label">
                                        待检测文本 <span class="text-danger">*</span>
                                    </label>
                                    <textarea 
                                        class="form-control" 
                                        id="text-input" 
                                        rows="8" 
                                        placeholder="请输入要检测的文本内容..."
                                        maxlength="10000"
                                        required>
                                    </textarea>
                                    <div class="form-text">
                                        <span id="char-count">0</span>/10000 字符
                                    </div>
                                </div>

                                <!-- 检测配置 -->
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label for="detection-mode" class="form-label">检测模式</label>
                                        <select class="form-select" id="detection-mode">
                                            <option value="hybrid">混合检测（推荐）</option>
                                            <option value="rule">仅规则匹配</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="strictness-level" class="form-label">严格程度</label>
                                        <select class="form-select" id="strictness-level">
                                            <option value="loose">宽松</option>
                                            <option value="standard" selected>标准</option>
                                            <option value="strict">严格</option>
                                        </select>
                                    </div>
                                </div>

                                <!-- 检测分类 -->
                                <div class="mb-3">
                                    <label class="form-label">检测分类</label>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-check">
                                                <input class="form-check-input category-check" type="checkbox" value="political" id="cat-political" checked>
                                                <label class="form-check-label" for="cat-political">
                                                    政治敏感
                                                </label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input category-check" type="checkbox" value="pornographic" id="cat-pornographic" checked>
                                                <label class="form-check-label" for="cat-pornographic">
                                                    色情内容
                                                </label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input category-check" type="checkbox" value="violent" id="cat-violent" checked>
                                                <label class="form-check-label" for="cat-violent">
                                                    暴力内容
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-check">
                                                <input class="form-check-input category-check" type="checkbox" value="spam" id="cat-spam" checked>
                                                <label class="form-check-label" for="cat-spam">
                                                    垃圾广告
                                                </label>
                                            </div>
                                            <div class="form-check">
                                                <input class="form-check-input category-check" type="checkbox" value="privacy" id="cat-privacy" checked>
                                                <label class="form-check-label" for="cat-privacy">
                                                    隐私信息
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- 高级选项 -->
                                <div class="mb-3">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="return-positions" checked>
                                        <label class="form-check-label" for="return-positions">
                                            返回敏感词位置信息
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="return-suggestions">
                                        <label class="form-check-label" for="return-suggestions">
                                            返回替换建议
                                        </label>
                                    </div>
                                </div>

                                <!-- 提交按钮 -->
                                <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                    <button type="button" class="btn btn-outline-secondary" id="clear-btn">
                                        <i class="bi bi-eraser"></i> 清空
                                    </button>
                                    <button type="submit" class="btn btn-primary" id="detect-btn">
                                        <i class="bi bi-search"></i> 开始检测
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- 结果显示区域 -->
                <div class="col-lg-4">
                    <div class="card shadow-sm">
                        <div class="card-header">
                            <h5 class="mb-0">
                                <i class="bi bi-clipboard-check"></i>
                                检测结果
                            </h5>
                        </div>
                        <div class="card-body" id="results-area">
                            <div class="text-center text-muted">
                                <i class="bi bi-info-circle fs-1"></i>
                                <p class="mt-2">请输入文本并点击"开始检测"</p>
                            </div>
                        </div>
                    </div>

                    <!-- 统计信息 -->
                    <div class="card shadow-sm mt-3" id="stats-card" style="display: none;">
                        <div class="card-header">
                            <h6 class="mb-0">
                                <i class="bi bi-bar-chart"></i>
                                检测统计
                            </h6>
                        </div>
                        <div class="card-body" id="stats-area">
                        </div>
                    </div>
                </div>
            </div>

            <!-- 检测历史 -->
            <div class="row mt-4">
                <div class="col-12">
                    <div class="card shadow-sm">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <h5 class="mb-0">
                                <i class="bi bi-clock-history"></i>
                                检测历史
                            </h5>
                            <button type="button" class="btn btn-sm btn-outline-danger" id="clear-history-btn">
                                <i class="bi bi-trash"></i> 清空历史
                            </button>
                        </div>
                        <div class="card-body">
                            <div id="history-area">
                                <div class="text-center text-muted">
                                    <p>暂无检测历史</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Modal -->
    <div class="modal fade" id="loading-modal" tabindex="-1" data-bs-backdrop="static">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body text-center">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">检测中...</span>
                    </div>
                    <p class="mt-3 mb-0">正在检测文本，请稍候...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.bootcdn.net/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script src="/static/js/app.js"></script>
</body>
</html>
